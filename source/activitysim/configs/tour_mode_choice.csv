Label,Description,Expression,DRIVEALONE,SHARED2,SHARED3,WALK,BIKE,TRNWALKACCESS,TRNDRIVEACCESS,SCHOOLBUS,TAXI,TNC_SINGLE,TNC_SHARED
#Drive_alone_no_toll,#Drive alone no toll,,,,,,,,,,,,
util_DRIVEALONE_Unavailable,DRIVEALONE - Unavailable,sov_available == False,-999,,,,,,,,,,
util_DRIVEALONE_Unavailable_for_persons_less_than_16,DRIVEALONE - Unavailable for persons less than 16,@(df.age < minimumAgeDA),-999,,,,,,,,,,
util_DRIVEALONE_Unavailable_forJoint_tours,DRIVEALONE - Unavailable for joint tours,is_joint == True,-999,,,,,,,,,,
util_DRIVEALONE_Unavailable_if_didn't_drive_to_work,DRIVEALONE - Unavailable if didn't drive to work,is_atwork_subtour & ~work_tour_is_SOV,-999,,,,,,,,,,
util_DRIVEALONE_In_vehicle_time,DRIVEALONE - In-vehicle time,@(df.da_time_skims_inb + df.da_time_skims_out) * autoIVTFactor * df.time_factor,coef_ivt,,,,,,,,,,
util_DRIVEALONE_Terminal_time,DRIVEALONE - Terminal time,@2 * walktimeshort_multiplier * df.terminal_time * autoTermTimeFactor,coef_ivt,,,,,,,,,,
util_DRIVEALONE_Operating_cost_IB,DRIVEALONE - Operating cost Inbound,@ivt_cost_multiplier * (df.sov_auto_op_cost * autoCPMFactor * df.da_dist_skims_inb + df.da_cost_skims_inb)/df.cost_sensitivity,coef_ivt,,,,,,,,,,
util_DRIVEALONE_Operating_cost_OB,DRIVEALONE - Operating cost Outbound,@ivt_cost_multiplier * (df.sov_auto_op_cost * autoCPMFactor * df.da_dist_skims_out + df.da_cost_skims_out)/df.cost_sensitivity,coef_ivt,,,,,,,,,,
util_DRIVEALONE_Parking_cost_,DRIVEALONE - Parking cost ,@ivt_cost_multiplier * df.daily_parking_cost/df.cost_sensitivity,coef_ivt,,,,,,,,,,
util_DRIVEALONE_Person_is_between_16_and_19_years_old,DRIVEALONE - Person is between 16 and 19 years old,@((df.age >= 16) & (df.age <= 19)),coef_age1619_da_multiplier,,,,,,,,,,
#Shared_ride_2,#Shared ride 2,,,,,,,,,,,,
util_SHARED2_Unavailable,SHARED2 - Unavailable,hov2_available == False,,-999,,,,,,,,,
util_SHARED2_Unavailable_based_on_party_size,SHARED2 - Unavailable based on party size,is_joint & (number_of_participants > 2),,-999,,,,,,,,,
util_Shared ride 2 - In -vehicle time,Shared ride 2 - In -vehicle time,@(df.s2_time_skims_inb + df.s2_time_skims_out) * autoIVTFactor * df.time_factor,,coef_ivt,,,,,,,,,
util_SHARED2_Terminal_time,SHARED2 - Terminal time,@2 * walktimeshort_multiplier * df.terminal_time * autoTermTimeFactor,,coef_ivt,,,,,,,,,
util_SHARED2_Operating_cost_IB,SHARED2 - Operating cost Inbound,@ivt_cost_multiplier * (df.sr2_auto_op_cost * autoCPMFactor * df.s2_dist_skims_inb + df.s2_cost_skims_inb)/df.cost_sensitivity,,coef_ivt,,,,,,,,,
util_SHARED2_Operating_cost_OB,SHARED2 - Operating cost Outbound,@ivt_cost_multiplier * (df.sr2_auto_op_cost * autoCPMFactor * df.s2_dist_skims_out + df.s2_cost_skims_out)/df.cost_sensitivity,,coef_ivt,,,,,,,,,
util_SHARED2_Parking_cost,SHARED2 - Parking cost,@ivt_cost_multiplier * df.daily_parking_cost / df.cost_sensitivity / cost_share_s2,,coef_ivt,,,,,,,,,
util_SHARED2_One_person_household,SHARED2 - One person household,@(df.hhsize == 1),,coef_hhsize1_sr_multiplier,,,,,,,,,
util_SHARED2_Two_person_household,SHARED2 - Two person household,@(df.hhsize == 2),,coef_hhsize2_sr_multiplier,,,,,,,,,
util_SHARED2_Person_is_16_years_old_or_older,SHARED2 - Person is 16 years old or older,@(df.age >= 16),,coef_age16p_sr_multiplier,,,,,,,,,
#Shared_ride_3+,#Shared ride 3+,,,,,,,,,,,,
util_SHARED3_Unavailable,SHARED3 - Unavailable,hov3_available == False,,,-999,,,,,,,,
util_SHARED3_In_vehicle_time,SHARED3 - In-vehicle time,@(df.s3_time_skims_inb + df.s3_time_skims_out) * autoIVTFactor * df.time_factor,,,coef_ivt,,,,,,,,
util_SHARED3_Terminal_time,SHARED3 - Terminal time,@2 * walktimeshort_multiplier * df.terminal_time * autoTermTimeFactor,,,coef_ivt,,,,,,,,
util_SHARED3_Operating_cost_IB,SHARED3 - Operating cost Inbound,@ivt_cost_multiplier * (df.sr3p_auto_op_cost * autoCPMFactor * df.s3_dist_skims_inb + df.s3_cost_skims_inb)/df.cost_sensitivity,,,coef_ivt,,,,,,,,
util_SHARED3_Operating_cost_OB,SHARED3 - Operating cost Outbound,@ivt_cost_multiplier * (df.sr3p_auto_op_cost * autoCPMFactor * df.s3_dist_skims_out + df.s3_cost_skims_out)/df.cost_sensitivity,,,coef_ivt,,,,,,,,
util_SHARED3_Parking_cost,SHARED3 - Parking cost,@ivt_cost_multiplier * df.daily_parking_cost / df.cost_sensitivity / cost_share_s3,,,coef_ivt,,,,,,,,
util_SHARED3_One_person_household,SHARED3 - One person household,@(df.hhsize == 1),,,coef_hhsize1_sr_multiplier,,,,,,,,
util_SHARED3_Two_person_household,SHARED3 - Two person household,@(df.hhsize == 2),,,coef_hhsize2_sr_multiplier,,,,,,,,
util_SHARED3_Person_is_16_years_old_or_older,SHARED3 - Person is 16 years old or older,@(df.age >= 16),,,coef_age16p_sr_multiplier,,,,,,,,
#util_WALK,#Walk,,,,,,,,,,,,
util_WALK_Time_up_to_2_miles,WALK - Time up to 2 miles,@walktimeshort_multiplier * (od_skims['DISTWALK'] > 0) * (od_skims['DISTWALK'].clip(upper=walkThresh) + od_skims.reverse('DISTWALK').clip(upper=walkThresh))*60/walkSpeed,,,,coef_ivt,,,,,,,
util_WALK_Time_beyond_2_of_a_miles,WALK - Time beyond 2 of a miles,@walktimelong_multiplier * (od_skims['DISTWALK'] > 0) * ((od_skims['DISTWALK'] - walkThresh).clip(lower=0) + (od_skims.reverse('DISTWALK') - walkThresh).clip(lower=0))*60/walkSpeed,,,,coef_ivt,,,,,,,
util_WALK_Destination_zone_densityIndex,WALK - Destination zone densityIndex,@density_index_multiplier * df.density_index,,,,coef_ivt,,,,,,,
util_WALK_Topology,WALK - Topology,@coef_topology_walk_multiplier * df.dest_topology,,,,coef_ivt,,,,,,,
#util_BIKE,#Bike,,,,,,,,,,,,
#util_BIKE_Unavailable_if_didn't_BIKE_to_work,BIKE - Unavailable if didn't bike to work,is_atwork_subtour & ~work_tour_is_bike,,,,,-999,,,,,,
util_BIKE_Time_up_to_6_miles,BIKE - Time up to 6 miles,@biketimeshort_multiplier * od_skims['DISTBIKE'] > 0 * (od_skims['DISTBIKE'].clip(upper=bikeThresh) + od_skims.reverse('DISTBIKE').clip(upper=bikeThresh))*60/bikeSpeed,,,,,coef_ivt,,,,,,
util_BIKE_Time_beyond_6_of_a_miles,BIKE - Time beyond 6 of a miles,@biketimelong_multiplier * od_skims['DISTBIKE'] > 0 *((od_skims['DISTBIKE']-bikeThresh).clip(lower=0) + (od_skims.reverse('DISTBIKE')-bikeThresh).clip(lower=0))*60/bikeSpeed,,,,,coef_ivt,,,,,,
util_BIKE_Destination_zone_densityIndex,BIKE - Destination zone densityIndex,@density_index_multiplier * df.density_index,,,,,coef_ivt,,,,,,
util_BIKE_Topology,BIKE - Topology,@coef_topology_bike_multiplier * df.dest_topology,,,,,coef_ivt,,,,,,
#util_WALK_to_Local,#Walk to Local,,,,,,,,,,,,
util_TRNWALKACCESS_Unavailable,WALK_LOC - Unavailable,walk_transit_available == False,,,,,,-999,,,,,
#util_TRNWALKACCESS_In_vehicle_time,WALK_LOC - In-vehicle time,walk_trn_ivt * time_factor,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Bus_In_vehicle_time,WALK_LOC - In-vehicle time,walk_bus_ivt * time_factor,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_LtB_In_vehicle_time,WALK_LOC - In-vehicle time,walk_ltd_ivt * time_factor,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_ExB_In_vehicle_time,WALK_LOC - In-vehicle time,walk_exp_ivt * time_factor,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_LRT_In_vehicle_time,WALK_LOC - In-vehicle time,@df.walk_lrt_ivt * ivt_urb_multiplier * df.time_factor,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_CRT_In_vehicle_time,WALK_LOC - In-vehicle time,@df.walk_crt_ivt * ivt_com_multiplier * df.time_factor,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Short_iwait_time,WALK_LOC - Short iwait time,@short_i_wait_multiplier * (df.walk_trn_wait_ob.clip(upper=waitThresh) + df.walk_trn_wait_ib.clip(upper=waitThresh)),,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Long_iwait_time,WALK_LOC - Long iwait time,@long_i_wait_multiplier * ((df.walk_trn_wait_ob-waitThresh).clip(0) + (df.walk_trn_wait_ib-waitThresh).clip(0)),,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_transfer_wait_time,WALK_LOC - transfer wait time,@xwait_multiplier * df.walk_xfr_wait,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_number_of_transfers,WALK_LOC - number of transfers,@xfers_wlk_multiplier * df.walk_xfrs.clip(0),,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Walk_access_time,WALK_LOC - Walk access time,@wacc_multiplier * df.walk_access_time,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Walk_egress_time,WALK_LOC - Walk egress time,@wegr_multiplier * df.walk_egress_time,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Walk_other_time,WALK_LOC - Walk other time,@waux_multiplier * df.walk_xfr_walk_time,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Fare,WALK_LOC - Fare,@ivt_cost_multiplier * df.transit_pass_mult * df.walk_fare / df.cost_sensitivity,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Destination_zone_densityIndex,WALK_LOC - Destination zone densityIndex,@density_index_multiplier * df.dest_density_index.clip(upper=origin_density_index_max),,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Topology,WALK_LOC - Topology,@coef_topology_trn_multiplier * df.dest_topology,,,,,,coef_ivt,,,,,
util_TRNWALKACCESS_Person_is_less_than_10_years_old,WALK_LOC - Person is less than 10 years old,@(df.age < 10),,,,,,coef_age010_trn_multiplier,,,,,
#util_PNR_to_Local,#PNR to Local,,,,,,,,,,,,
util_TRNDRIVEACCESS_Unavailable,PNR_LOC - Unavailable,drive_transit_available == False,,,,,,,-999,,,,
util_TRNDRIVEACCESS_Unavailable_for_persons_less_than_16,PNR_LOC - Unavailable for persons less than 16,@(df.age < minimumAgeDA),,,,,,,-999,,,,
#util_TRNDRIVEACCESS_In_vehicle_time,PNR_LOC - In-vehicle time,drive_trn_ivt * time_factor,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Bus_In_vehicle_time,PNR_LOC - In-vehicle time,drive_bus_ivt * time_factor,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_LtB_In_vehicle_time,PNR_LOC - In-vehicle time,drive_ltd_ivt * time_factor,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_ExB_In_vehicle_time,PNR_LOC - In-vehicle time,drive_exp_ivt * time_factor,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_LRT_In_vehicle_time,PNR_LOC - In-vehicle time,@df.drive_lrt_ivt * ivt_urb_multiplier * df.time_factor,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_CRT_In_vehicle_time,PNR_LOC - In-vehicle time,@df.drive_crt_ivt * ivt_com_multiplier * df.time_factor,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Short_iwait_time,PNR_LOC - Short iwait time,@short_i_wait_multiplier * df.drive_trn_wait_ob.clip(upper=waitThresh) + df.drive_trn_wait_ib.clip(upper=waitThresh),,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Long_iwait_time,PNR_LOC - Long iwait time,@long_i_wait_multiplier * ((df.drive_trn_wait_ob-waitThresh).clip(0) + (df.drive_trn_wait_ib-waitThresh).clip(0)),,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_transfer_wait_time,PNR_LOC - transfer wait time,@xwait_multiplier * df.drive_xfr_wait,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_number_of_transfers,PNR_LOC - number of transfers,@xfers_drv_multiplier * df.drive_xfrs.clip(0),,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_PNR_time,PNR_LOC - PNR time,@dtim_multiplier * df.drive_access_time,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Walk_access_time,PNR_LOC - Walk access time,@wacc_multiplier * df.drive_egress_time,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Walk_other_time,PNR_LOC - Walk other time,@waux_multiplier * df.walk_xfr_walk_time,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Fare,Drive_LOC - Fare,@ivt_cost_multiplier * df.transit_pass_mult * df.drive_fare / df.cost_sensitivity,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Op_Cost,Drive_LOC - auto op cost,@ivt_cost_multiplier * costPerMile * df.drive_access_dist / df.cost_sensitivity,,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Destination_zone_densityIndex,PNR_LOC - Destination zone densityIndex,@density_index_multiplier * df.dest_density_index.clip(upper=origin_density_index_max),,,,,,,coef_ivt,,,,
util_TRNDRIVEACCESS_Topology,PNR_LOC - Topology,@coef_topology_trn_multiplier * df.dest_topology,,,,,,,coef_ivt,,,,
#,Taxi,,,,,,,,,,,,
util_Taxi_In_vehicle_time,Taxi - In-vehicle time,@(odt_skims['HOV2_N_TIME_M'] + dot_skims['HOV2_N_TIME_M']),,,,,,,,,coef_ivt,,
#, FIXME magic constant 1.5,,,,,,,,,,,,
util_Taxi_Wait_time,Taxi - Wait time,@rideshare_i_wait_multiplier * df.totalWaitTaxi,,,,,,,,,coef_ivt,,
util_Taxi_Fare,Taxi - Fare,@ivt_cost_multiplier * ((Taxi_baseFare * 2 + (odt_skims['HOV2_DIST_M'] + dot_skims['HOV2_DIST_M']) * Taxi_costPerMile +(odt_skims['HOV2_N_TIME_M'] + dot_skims['HOV2_N_TIME_M']) * Taxi_costPerMinute)*100) / df.cost_sensitivity,,,,,,,,,coef_ivt,,
#,TNC Single,,,,,,,,,,,,
util_TNC_Single_In_vehicle_time,TNC Single - In-vehicle time,@(odt_skims['HOV2_N_TIME_M'] + dot_skims['HOV2_N_TIME_M']),,,,,,,,,,coef_ivt,
util_TNC_Single_Wait_time,TNC Single - Wait time,@rideshare_i_wait_multiplier * df.totalWaitSingleTNC,,,,,,,,,,coef_ivt,
util_TNC_Single_Cost,TNC Single - Cost,"@ivt_cost_multiplier * (np.maximum(TNC_single_baseFare * 2 + (odt_skims['HOV2_DIST_M'] + dot_skims['HOV2_DIST_M']) * TNC_single_costPerMile + (odt_skims['HOV2_N_TIME_M'] + dot_skims['HOV2_N_TIME_M']) * TNC_single_costPerMinute, TNC_single_costMinimum) * 100) / df.cost_sensitivity",,,,,,,,,,coef_ivt,
#,TNC Shared,,,,,,,,,,,,
util_TNC_Shared_In_vehicle_time,TNC Shared - In-vehicle time,@(odt_skims['HOV2_N_TIME_M'] + dot_skims['HOV2_N_TIME_M']) * TNC_shared_IVTFactor,,,,,,,,,,,coef_ivt
util_TNC_Shared_Wait_time,TNC Shared - Wait time,@rideshare_i_wait_multiplier * df.totalWaitSharedTNC,,,,,,,,,,,coef_ivt
util_TNC_Shared_Cost,TNC Shared - Cost,"@ivt_cost_multiplier * (np.maximum(TNC_shared_baseFare * 2 + (odt_skims['HOV2_DIST_M'] + dot_skims['HOV2_DIST_M']) * TNC_shared_costPerMile + (odt_skims['HOV2_N_TIME_M'] + dot_skims['HOV3_N_TIME_M']) * TNC_shared_costPerMinute, TNC_shared_costMinimum) * 100) / df.cost_sensitivity",,,,,,,,,,,coef_ivt
#indiv_tour_ASCs,#indiv tour ASCs,,,,,,,,,,,,
util_WALK_ASC_Zero_auto,Walk ASC - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,,,walk_ASC_no_auto,,,,,,,
util_WALK_ASC_Auto_deficient,Walk ASC - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,walk_ASC_auto_deficient,,,,,,,
util_WALK_ASC_Auto_sufficient,Walk ASC - Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,walk_ASC_auto_sufficient,,,,,,,
util_BIKE_ASC_Zero_auto,Bike ASC - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,,,,bike_ASC_no_auto,,,,,,
util_BIKE_ASC_Auto_deficient,Bike ASC - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,bike_ASC_auto_deficient,,,,,,
util_BIKE_ASC_Auto_sufficient,Bike ASC - Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,bike_ASC_auto_sufficient,,,,,,
util_drivealone_ASC_zero_auto,ASC DA Zero Auto,@(df.is_indiv & (df.auto_ownership == 0)),sov_ASC_no_auto,,,,,,,,,,
util_drivealone_ASC_auto_deficient,ASC DA Auto Deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),sov_ASC_auto_deficient,,,,,,,,,,
util_drivealone_ASC_auto_sufficient,ASC DA Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),sov_ASC_auto_sufficient,,,,,,,,,,
util_Shared_ride_2_ASC_Zero_auto,Shared ride 2 ASC - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,sr2_ASC_no_auto,,,,,,,,,
util_Shared_ride_2_ASC_Auto_deficient,Shared ride 2 ASC - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,sr2_ASC_auto_deficient,,,,,,,,,
util_Shared_ride_2_ASC_Auto_sufficient,Shared ride 2 ASC - Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,sr2_ASC_auto_sufficient,,,,,,,,,
util_Shared_ride_3+_Zero_auto,Shared ride 3+ - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,,sr3p_ASC_no_auto,,,,,,,,
util_Shared_ride_3+_Auto_deficient,Shared ride 3+ - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,sr3p_ASC_auto_deficient,,,,,,,,
util_Shared_ride_3+_Auto_sufficient,Shared ride 3+ - Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,sr3p_ASC_auto_sufficient,,,,,,,,
util_WALK_to_Transit_Zero_auto,Walk to Transit - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,,,,,walk_transit_ASC_no_auto,,,,,
util_WALK_to_Transit_Auto_deficient,Walk to Transit - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,walk_transit_ASC_auto_deficient,,,,,
util_WALK_to_Transit_Auto_sufficient,Walk to Transit - Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,walk_transit_ASC_auto_sufficient,,,,,
util_DRIVE_to_Transit_Zero_auto,PNR to Transit - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,,,,,,pnr_transit_ASC_no_auto,,,,
util_DRIVE_to_Transit_Auto_deficient,PNR to Transit - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,,pnr_transit_ASC_auto_deficient,,,,
util_DRIVE_to_Transit_Auto_sufficient,PNR to Transit - Auto Sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,,pnr_transit_ASC_auto_sufficient,,,,
util_CLT_Transit,CLT Alternative Specific Constant,@(df.drive_lrt_ivt > 0) | (df.walk_lrt_ivt > 0),,,,,,asc_lrt,asc_lrt,,,,
util_CRT_Transit,LRT Alternative Specific Constant,@(df.drive_crt_ivt > 0) | (df.walk_crt_ivt > 0),,,,,,asc_crt,asc_crt,,,,
util_transit_ASC,All transit ASC,1,,,,,,asc_transit,asc_transit,,,,
util_rideshare_Zero_auto,Taxi - Zero auto,@(df.is_indiv & (df.auto_ownership == 0)),,,,,,,,,rideshare_ASC_no_auto,rideshare_ASC_no_auto,rideshare_ASC_no_auto
util_rideshare_Auto_deficient,Taxi - Auto deficient,@(df.is_indiv & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,,,,rideshare_ASC_auto_deficient,rideshare_ASC_auto_deficient,rideshare_ASC_auto_deficient
util_rideshare_Auto_sufficient,Taxi - Auto sufficient,@(df.is_indiv & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,,,,rideshare_ASC_auto_sufficient,rideshare_ASC_auto_sufficient,rideshare_ASC_auto_sufficient
# These no longer exist in the survey data,,,,,,,,,,,,,
util_taxi_asc,Taxi ASC,1,,,,,,,,,taxi_ASC,,taxi_ASC
util_tnc_shared_asc,TNC Shared ASC,1,,,,,,,,,tnc_shared_ASC,,tnc_shared_ASC
#util_Joint_tour_ASCs,#joint maint tour ASCs,,,,,,,,,,,,
util_joint_WALK_ASC_Zero_auto,Joint - Walk ASC - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,,,joint_walk_ASC_no_auto,,,,,,,
util_joint_WALK_ASC_Auto_deficient,Joint - Walk ASC - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,joint_walk_ASC_auto_deficient,,,,,,,
util_joint_WALK_ASC_Auto_sufficient,Joint - Walk ASC - Auto Sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,joint_walk_ASC_auto_sufficient,,,,,,,
util_joint_BIKE_ASC_Zero_auto,Joint - Bike ASC - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,,,,joint_bike_ASC_no_auto,,,,,,
util_joint_BIKE_ASC_Auto_deficient,Joint - Bike ASC - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,joint_bike_ASC_auto_deficient,,,,,,
util_joint_BIKE_ASC_Auto_sufficient,Joint - Bike ASC - Auto Sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,joint_bike_ASC_auto_sufficient,,,,,,
util_joint_Shared_ride_2_ASC_Zero_auto,Joint - Shared ride 2 ASC - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,joint_sr2_ASC_no_auto,,,,,,,,,
util_joint_Shared_ride_2_ASC_Auto_deficient,Joint - Shared ride 2 ASC - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,joint_sr2_ASC_auto_deficient,,,,,,,,,
util_joint_Shared_ride_2_ASC_Auto_sufficient,Joint - Shared ride 2 ASC - Auto Sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,joint_sr2_ASC_auto_sufficient,,,,,,,,,
util_joint_Shared_ride_3+_Zero_auto,Joint - Shared ride 3+ - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,,joint_sr3p_ASC_no_auto,,,,,,,,
util_joint_Shared_ride_3+_Auto_deficient,Joint - Shared ride 3+ - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,joint_sr3p_ASC_auto_deficient,,,,,,,,
util_joint_Shared_ride_3+_Auto_sufficient,Joint - Shared ride 3+ - Auto Sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,joint_sr3p_ASC_auto_sufficient,,,,,,,,
util_joint_WALK_to_Transit_Zero_auto,Joint - Walk to Transit - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,,,,,joint_walk_transit_ASC_no_auto,,,,,
util_joint_WALK_to_Transit_Auto_deficient,Joint - Walk to Transit - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,joint_walk_transit_ASC_auto_deficient,,,,,
util_joint_WALK_to_Transit_Auto_sufficient,Joint - Walk to Transit - Auto Sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,joint_walk_transit_ASC_auto_sufficient,,,,,
util_joint_DRIVE_to_Transit_Zero_auto,Joint - PNR to Transit - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,,,,,,joint_pnr_transit_ASC_no_auto,,,,
util_joint_DRIVE_to_Transit_Auto_deficient,Joint - PNR to Transit - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,,joint_pnr_transit_ASC_auto_deficient,,,,
util_joint_DRIVE_to_Transit_Auto_sufficient,Joint - PNR to Transit - Auto Sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,,joint_pnr_transit_ASC_auto_sufficient,,,,
util_joint_rideshare_Zero_auto,Joint - Taxi - Zero auto,@(df.is_joint & (df.auto_ownership == 0)),,,,,,,,,joint_rideshare_ASC_no_auto,joint_rideshare_ASC_no_auto,joint_rideshare_ASC_no_auto
util_joint_rideshare_Auto_deficient,Joint - Taxi - Auto deficient,@(df.is_joint & (df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,,,,joint_rideshare_ASC_auto_deficient,joint_rideshare_ASC_auto_deficient,joint_rideshare_ASC_auto_deficient
util_joint_rideshare_Auto_sufficient,Joint - Taxi - Auto sufficient,@(df.is_joint & (df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,,,,joint_rideshare_ASC_auto_sufficient,joint_rideshare_ASC_auto_sufficient,joint_rideshare_ASC_auto_sufficient
util_WALK_to_Transit_dest_CBD,Walk to Transit dest CBD,@df.destination_in_cbd,,,,,,walk_transit_CBD_ASC,,,,,
Drive_to_Transit_dest_CBD,Drive to Transit dest CBD,@df.destination_in_cbd,,,,,,,pnr_transit_CBD_ASC,,,,
Drive_to_Transit_distance_penalty,Drive to Transit - distance penalty,@drvtrn_distpen_0_multiplier * (1-od_skims['DIST']/drvtrn_distpen_max).clip(lower=0),,,,,,,coef_ivt,,,,
#_FIXME_skims_aren't_symmetrical,# FIXME - skims aren't symmetrical, so we have to make sure they can get back,,,,,,,,,,,
util_WALK_not_available_for_long_distances,Walk not available for long distances,@(od_skims['DISTWALK'] + od_skims.reverse('DISTWALK')) > 8,,,,-999,,,,,,,
util_BIKE_not_available_for_long_distances,Bike not available for long distances,@(od_skims['DISTBIKE'] + od_skims.reverse('DISTBIKE')) > 12,,,,,-999,,,,,,
Drive_alone_not_available_for_escort_tours,Drive alone not available for escort tours,is_escort,-999,,,,,,,,,,
No_auto_on_awst,No auto availability for at-work subtours,@(~df.work_tour_has_auto) & (df.is_atwork_subtour),-999,,,,,,,,,,
#School_Bus,#School Bus,,,,,,,,,,,,
School_Bus_Unavailable_if_NOT_school_tour,School Bus - Unavailable if NOT school tour,~is_school,,,,,,,,-999,,,
School_Bus_In_vehicle_time_(HOV3+_skims)_20_mph,School Bus - In-vehicle time (HOV3+ skims) - 20 mph,@(odt_skims['HOV3_DIST_M'] + dot_skims['HOV3_DIST_M'])*3,,,,,,,,coef_ivt,,,
School_Bus_WALK_Time,School Bus - Walk Time,@wacc_multiplier*10,,,,,,,,coef_ivt,,,
School_Bus_Wait_Time,School Bus - Wait Time,@short_i_wait_multiplier*10,,,,,,,,coef_ivt,,,
util_schoolbus_ASC_no_auto,School Bus No Auto ASC,@(df.auto_ownership == 0),,,,,,,,schoolbus_ASC_no_auto,,,
util_schoolbus_ASC_auto_deficient,School Bus Auto Deficient ASC,@((df.auto_ownership < df.num_workers) & (df.auto_ownership > 0)),,,,,,,,schoolbus_ASC_auto_deficient,,,
util_schoolbus_ASC_auto_sufficient,School Bus Auto Sufficient ASC,@((df.auto_ownership >= df.num_workers) & (df.auto_ownership > 0)),,,,,,,,schoolbus_ASC_auto_sufficient,,,
